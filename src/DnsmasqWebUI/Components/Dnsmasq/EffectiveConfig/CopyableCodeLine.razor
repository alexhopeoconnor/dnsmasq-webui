@namespace DnsmasqWebUI.Components.Dnsmasq.EffectiveConfig
@inject IJSRuntime JSRuntime

<div class="d-flex align-items-center gap-1 @CssClass">
    <code class="flex-grow-1 text-break @CodeCssClass">@Text</code>
    <button type="button" class="btn btn-sm btn-outline-secondary py-0" @onclick="CopyAsync" title="@CopyTitle">Copy</button>
</div>

@code {
    [Parameter] public string Text { get; set; } = "";
    [Parameter] public string? CssClass { get; set; }
    [Parameter] public string? CodeCssClass { get; set; }
    [Parameter] public string CopyTitle { get; set; } = "Copy";

    private async Task CopyAsync()
    {
        if (string.IsNullOrEmpty(Text)) return;
        try
        {
            await JSRuntime.InvokeVoidAsync("copyToClipboard", Text);
        }
        catch
        {
            // Clipboard not available or failed
        }
    }
}

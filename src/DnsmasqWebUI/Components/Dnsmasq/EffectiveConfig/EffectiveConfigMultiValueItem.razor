@namespace DnsmasqWebUI.Components.Dnsmasq.EffectiveConfig
@using DnsmasqWebUI.Models.Dnsmasq
@using DnsmasqWebUI.Models.Dnsmasq.EffectiveConfig

<span class="ec-field-value-item" title="@(Source?.GetReadOnlyTooltip())">
    @Value
    <ReadonlyBadge AnchorId="@(ReadonlyBadgeAnchorId ?? "")" Source="@Source" OptionName="@OptionName" Value="@Value" IsInteractive="@(IsEditMode && !string.IsNullOrEmpty(ReadonlyBadgeAnchorId))" />
    @if (Source?.IsReadOnly != true && IsEditMode)
    {
        <span class="badge bg-primary ec-badge-inline ms-1">editable</span>
    }
</span>

@code {
    [Parameter] public string Value { get; set; } = "";
    [Parameter] public ConfigValueSource? Source { get; set; }
    [Parameter] public string OptionName { get; set; } = "";
    [Parameter] public bool IsEditMode { get; set; }
    [Parameter] public string? ReadonlyBadgeAnchorId { get; set; }
}
